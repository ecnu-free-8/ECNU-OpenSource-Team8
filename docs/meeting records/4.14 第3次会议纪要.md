# 开源项目会议文档（2025.4.14）

## 一、基本信息

| 汇报名称    后端API接口开发与数据管理 | 召集人 马润东      |
| ------------------------------------- | ------------------ |
| 会议日期    2025.4.14                 | 开始时间    22:00  |
| 会议地点   腾讯会议                   | 持续时间    20分钟 |

## 二、会议目标  
1. 后端API接口开发
2. 数据管理

## **三、具体细节**

- **API接口开发**
  - **用户认证接口**：已开发完成用户登录和注册功能。通过POST请求向`/api/login`和`/api/register`发送包含用户名、密码等信息的JSON数据，后端验证后返回用户数据及相关消息。争论焦点在于是否需要在注册时增加邮箱验证步骤。部分成员担心增加该步骤会降低用户体验，导致注册流程繁琐；另一部分成员认为邮箱验证可提高账户安全性，减少恶意注册。最终决定先实现基础的用户名和密码注册登录功能，后续根据实际需求和用户反馈再考虑是否增加邮箱验证
  - **主页接口**：GET请求`/api/summary?username=demo_user`可获取用户财务摘要，包括支出、收入和结余等数据。开发过程中，对于如何处理用户未登录或用户名不存在的情况存在争议。一种观点是直接返回空数据，另一种观点是返回明确的错误提示信息。最终决定返回详细的错误信息，以便前端更好地处理异常情况并提示用户
  - **交易管理接口**：已实现交易记录的创建、读取、更新和删除功能。通过POST请求`/api/transactions`创建新交易记录，PUT请求`/api/transactions/{id}`更新记录，DELETE请求`/api/transactions/{id}?username=demo_user`删除记录。在设计更新交易记录接口时，对于是否需要验证交易记录是否属于当前用户存在争论。最终决定在更新和删除操作时验证交易记录的归属，确保数据安全
  - **报表接口**：开发了获取支出分析的功能。通过GET请求`/api/reports?username=demo_user&range=month`，可按月、季、年获取支出分类分析数据。团队争论焦点在于图表数据的返回格式，是直接返回原始数据让前端自行处理，还是返回加工后的数据便于前端直接渲染。最终决定返回包含图表标题、总金额、各分类金额等加工后的数据，减少前端处理负担
  - **AI助手接口**：初步实现了处理自然语言输入的接口。通过POST请求`/api/chat`发送包含用户消息的JSON数据，后端基于AI技术解析并生成响应。争论主要集中在如何提高AI解析的准确率，是通过不断扩充训练数据集，还是优化算法模型。决定两者结合，先基于现有数据集训练模型实现基本功能，后续持续收集用户输入数据优化模型
- **数据管理**
  - **数据库设计与实现**：采用SQLite数据库，已设计并实现满足交易、分类、预算等数据存储需求的表结构。争论焦点在于是否需要对数据库表进行复杂索引优化。部分成员担心过多索引会影响写入性能，另一部分成员认为索引能显著提高查询效率。最终决定对频繁查询的字段如用户ID、交易时间等创建索引，同时定期评估索引效果并根据实际情况调整
  - **数据查询优化**：为提高数据获取效率，优化了SQL查询语句。在查询大量数据时，通过添加适当条件限制、避免 SELECT * 等方式提高查询速度
- **技术挑战与解决**
  - **接口安全性**：为确保API接口的安全性，防止未授权访问和数据泄露，采取了一系列措施。如使用HTTPS协议加密数据传输、在接口中添加身份验证和授权检查等。但这也增加了开发复杂度，最终决定根据接口的重要性和敏感度进行分级管理，对用户数据相关接口严格检查，对一些公开或低风险接口适当简化流程，在保证安全的前提下提高开发效率
  - **数据一致性**：在前后端数据交互过程中，确保数据的一致性是一个挑战。前端传递的数据格式和类型需要与后端严格匹配，否则会导致数据错误或接口调用失败。通过制定详细的数据格式规范和在后端进行数据验证来解决该问题
  - **并发处理**：随着用户数量的增加，后端需要处理并发请求。在开发过程中，对于如何处理高并发情况下的数据读写和接口响应存在担忧。采取了优化数据库连接池配置、使用缓存等措施来提高并发处理能力

## **四、会议结果**

后端API接口开发与数据管理已取得阶段性成果，基本满足前端功能实现的需求，为项目的整体推进提供了有力支持。后续将继续完善功能、优化性能、加强安全防护，确保项目按计划高质量完成

## **五、下周计划**

- 继续完善API接口功能
- 与前端联调优化
- 开展测试与评估
